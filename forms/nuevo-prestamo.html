<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo libro</title>
    <!--CSS-->
    <link rel="stylesheet" href="../styles/index.css">
    <link rel="stylesheet" href="../styles/menu-active.css">
    <link rel="stylesheet" href="../styles/nuevo-prestamo.css">

    <!--BOOTSTRAP css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!--iconos-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <div class="container-fluid">
        <header class="row cabecera">
            <div class="col-3 cabecera">
                <button class="btn-cabecera-menu"><i class='bx bx-menu icono-cabecera'></i></button>
            </div>
            <div class="col-8 cabecera fst-italic fw-light">usuario@inacap.cl</div>
            <div class="col-1 cabecera">
                <button class="btn-cabecera-salir" id="salir"><i class='bx bx-exit icono-cabecera' style='color:#ffffff'></i></button>
            </div>
        </header>

        <section class="row principal">
            <aside class="col-sm-12 col-md-3 menu">
                <div class="icon-box">
                    <img src="../media/icono.jpeg" alt="icono" class="icono" onclick="redireccionar('../view/landingPage.html')">
                </div>
                <button type="submit" class="btn-menu btn-active" onclick="redireccionar('../view/prestamos.html')"><i class='bx bxs-detail'></i>Préstamos</button>
                <button type="submit" class="btn-menu" onclick="redireccionar('../view/mante-autores.html')"><i class='bx bxs-user-account' ></i>Mantenedor de Autores</button>
                <button type="submit" class="btn-menu" onclick="redireccionar('../view/mante-editoriales.html')"><i class='bx bxs-book-open'></i>Mantenedor de Editoriales</button>
                <button type="submit" class="btn-menu" onclick="redireccionar('../view/mante-libros.html')"><i class='bx bxs-book' ></i>Mantenedor de Libros</button>
                <button type="submit" class="btn-menu" onclick="redireccionar('../view/usuarios.html')"><i class='bx bxs-user-circle' ></i>Usuarios</button>
                <button type="submit" class="btn-menu" onclick="redireccionar('../view/multas.html')"><i class='bx bx-money'></i>Multas</button>
                <button type="submit" class="btn-menu" onclick="redireccionar('../view/reportes.html')"><i class='bx bxs-bar-chart-square'></i>Reportes</button>
            </aside>

            <article class="col-sm-12 col-md-9 contenido">
                <div class="col-md-6 offset-md-3">
                    <h2 class="text-center titulo-prestamo-nuevo">Alquiler de Libros</h2>
                    <form id="alquilerForm" action="">
                        <div class="form-group">
                            <label for="run">RUT del usuario:</label>
                            <input type="text" class="form-control" id="run" required>
                        </div>
                        <div class="form-group">
                            <label for="nombre">Nombre del usuario:</label>
                            <input type="text" class="form-control" id="nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="apellido">Primer apellido del usuario:</label>
                            <input type="text" class="form-control" id="apellido" required>
                        </div>
                        <div class="form-group">
                            <label for="tipoUsuario">Tipo de usuario:</label>
                            <select class="form-control" id="tipoUsuario" required onchange="habilitarFechaDevolucion()">
                                <option value="" disabled selected>Seleccionar tipo de usuario</option>
                                <option value="alumno">Alumno</option>
                                <option value="docente">Docente</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="autor">Autor:</label>
                            <select class="form-control" id="autor" required>
                                <!-- Las opciones de autor se cargarán dinámicamente desde autores.json -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="libro">Libro:</label>
                            <select class="form-control" id="libro" required>
                                <!-- Las opciones de libro se cargarán dinámicamente según el autor seleccionado -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="diaInicio">Día de inicio del préstamo:</label>
                            <input type="text" class="form-control" id="diaInicio" >
                        </div>
                        <div class="form-group">
                            <label for="mesInicio">Mes de Inicio:</label>
                            <select id="mesInicio" name="mesInicio" required>
                                <option value="" selected>-- Seleccione un mes --</option>
                                <option value="1">Enero</option>
                                <option value="2">Febrero</option>
                                <option value="3">Marzo</option>
                                <option value="4">Abril</option>
                                <option value="5">Mayo</option>
                                <option value="6">Junio</option>
                                <option value="7">Julio</option>
                                <option value="8">Agosto</option>
                                <option value="9">Septiembre</option>
                                <option value="10">Octubre</option>
                                <option value="11">Noviembre</option>
                                <option value="12">Diciembre</option>
                            </select>
                            <div class="alert" id="alertaMes" style="display: none;"></div>
                        </div>
                        <div class="form-group">
                            <label for="yearInicio">Año de inicio del préstamo:</label>
                            <input type="text" class="form-control" id="yearInicio"  required>
                        </div>
                        <div class="form-group">
                            <label for="fechaDevolucion">Fecha de devolución:</label>
                            <!-- Este campo se autocompletará según el tipo de usuario -->
                            <input type="date" class="form-control" id="fechaDevolucion" required>
                        </div>
                        
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary" onclick="registrarPrestamo()" id="botonGuardar">Registrar Préstamo</button>
                        </div>
                    </form>
                        <div id="alertas" class="mt-3"></div>
                </div>

            </article>
        </section>

        <footer class="row piePagina">
            <div class="col-12 fechaActual"></div>
        </footer>
    </div>

    <script src="../JS/prestamos.js"></script>
    <script src="../JS/index.js"></script>
</body>
</html>